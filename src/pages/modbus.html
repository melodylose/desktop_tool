<div class="tab-pane fade" id="modbus-tab" role="tabpanel">
    <h2>Modbus 通訊設定</h2>
    <div class="card mb-3">
        <div class="card-body">
            <!-- 第一行：IP、Port 與連線 -->
            <div class="row mb-3">
                <div class="col-md-5">
                    <input type="text" class="form-control" id="modbus-ip" placeholder="IP 地址 (例: 192.168.1.100)">
                </div>
                <div class="col-md-3">
                    <input type="number" class="form-control" id="modbus-port" placeholder="Port (預設 502)">
                </div>
                <div class="col-md-4">
                    <button id="connect-btn" class="btn btn-primary w-100">連線</button>
                </div>
            </div>

            <!-- 第二行：模式、起始地址、資料長度、使用方法 -->
            <div class="row mb-3">
                <div class="col-md-3">
                    <select class="form-select" id="modbus-mode">
                        <option selected>選擇模式</option>
                        <option value="read-single">單筆讀取</option>
                        <option value="read-continuous">連續讀取</option>
                        <option value="write-single">單筆寫入</option>
                        <option value="write-continuous">連續寫入</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <input type="number" class="form-control" id="start-address" placeholder="起始地址">
                </div>
                <div class="col-md-3">
                    <input type="number" class="form-control" id="data-length" placeholder="資料長度">
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="modbus-method">
                        <option selected>選擇使用方法</option>
                        <option value="coil">Coil (0x)</option>
                        <option value="discrete">Discrete Input (1x)</option>
                        <option value="holding">Holding Register (4x)</option>
                        <option value="input">Input Register (3x)</option>
                    </select>
                </div>
            </div>

            <!-- 第三行：寫入數值和取樣頻率 -->
            <div class="row mb-3">
                <!-- 寫入數值控制項 (初始隱藏) -->
                <div class="col-md-6" id="write-data-container" style="display: none;">
                    <div class="input-group">
                        <span class="input-group-text">寫入數值</span>
                        <input type="text" class="form-control" id="write-data" placeholder="數值 (多個值用逗號分隔)">
                    </div>
                </div>
                <!-- 取樣頻率控制項 (初始隱藏) -->
                <div class="col-md-6" id="sampling-rate-container" style="display: none;">
                    <div class="input-group">
                        <span class="input-group-text">取樣頻率</span>
                        <input type="number" class="form-control" id="sampling-rate" placeholder="頻率 (ms)" value="1000">
                    </div>
                </div>
            </div>

            <!-- 執行按鈕 -->
            <div class="row mb-3">
                <div class="col-12">
                    <button id="execute-btn" class="btn btn-success w-100">執行</button>
                </div>
            </div>

            <!-- 結果表格 -->
            <div class="row">
                <div class="col-12">
                    <table class="table table-striped table-hover" id="modbus-result-table">
                        <thead>
                            <tr>
                                <th>地址</th>
                                <th>數值</th>
                                <th>時間戳記</th>
                                <th>狀態</th>
                                <th>方法</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- 動態填入資料 -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>